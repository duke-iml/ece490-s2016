action,condition,outcome1,probability1,outcome2,probability2,outcome3,probability3,outcome4,probability4
"PERCEIVE(bin,object)",($object in order); {at} != $bin; ($object in bin_contents[$bin]); {p_in_bin}[$object] > 0; {p_graspable}[$object] > 0; {p_reachable}[$bin]>0,"SUCCESS; bin=$bin; object=$object; at=$bin; p_detected_object = probability_product(confusion_matrix($bin,$object),{p_in_bin}); p_graspable[$object]=1;is_localized[$object]=True",{p_reachable}[$bin]*{p_graspable}[$object]*{p_in_bin}[$object]*(1.0-p_detect_fail[$object]),"SUCCESS_NOgrasp; at=$bin; object=$object; at=$bin; p_detected_object = probability_product(confusion_matrix($bin,$object),{p_in_bin}); p_graspable[$object]=0; is_localized[$object]=True",{p_reachable}[$bin]*(1-{p_graspable}[$object])*{p_in_bin}[$object],MOVE_FAIL; p_reachable[$bin]=0,1-{p_reachable}[$bin],DETECT_FAIL; at=$bin,{p_reachable}[$bin]*(1-{p_in_bin}[$object] + {p_in_bin}[$object]*p_detect_fail[$object])
GRASP,{object} != None; {at}.startswith('bin'); {is_localized}[{object}]; {p_graspable}[{object}] > 0,PLANFAIL; p_graspable[{object}]=0,p_grasp_plan_fail[{object}],"SUCCESS; at='order_bin'; bin=None; object=None; p_in_order_bin = probability_add({p_in_order_bin}, probability_product({p_detected_object},{p_in_bin})); p_in_bin = probability_sub({p_in_bin},probability_product({p_detected_object},{p_in_bin}))",(1-p_grasp_plan_fail[{object}]),,,,
